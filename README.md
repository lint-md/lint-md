# Lint Markdown 2.0

> âš ï¸ æç¤ºï¼šä½ ç°åœ¨çœ‹åˆ°çš„æ˜¯ 2.0 ç‰ˆæœ¬ï¼Œå¦‚æœè¦æŸ¥çœ‹ 1.x ç‰ˆæœ¬è¯·åˆ‡æ¢åˆ° **[1.x](https://github.com/lint-md/lint-md/tree/1.x)** åˆ†æ”¯ã€‚

Lint Markdown æ˜¯æ£€æŸ¥ä¸­æ–‡ Markdown ç¼–å†™æ ¼å¼çš„å·¥å…·ï¼Œè®©ä½ çš„æ–‡æ¡£æ›´åŠ ä¼˜é›…è§„èŒƒã€‚

[![npm](https://img.shields.io/npm/v/@lint-md/core.svg)](https://www.npmjs.com/package/lint-md)
[![npm](https://img.shields.io/npm/dm/@lint-md/core.svg)](https://www.npmjs.com/package/@lint-md/core)

## æ–°ç‰ˆç‰¹ç‚¹

é‡æ„æ–‡æœ¬ä¿®å¤ç®—æ³•ï¼Œfix èƒ½åŠ›æ€§èƒ½æå‡ä¸Šç™¾å€ã€‚

åº•å±‚ Markdown è§£æåº“ remark è¿ç§»è‡³æœ€æ–°ç‰ˆã€‚

æ”¯æŒå¤šçº¿ç¨‹ lint & fixã€‚

ä½“éªŒæ›´å¥½çš„å‘½ä»¤è¡Œè¾“å‡ºæç¤ºã€‚

é¡¹ç›®æ¶æ„å®Œå…¨é‡æ„ï¼Œä»£ç è´¨é‡å¤§å¹…æå‡ï¼Œæ›´æ–¹ä¾¿ contribute ğŸ˜„ã€‚

## å¿«é€Ÿå¼€å§‹

æˆ‘ä»¬æä¾›äº†ä¸¤ç§ä½¿ç”¨çš„æ–¹å¼ï¼Œå‘½ä»¤è¡Œå’Œ Node.js APIï¼Œå‰è€…é€‚åˆå¤§éƒ¨åˆ†ç”¨æˆ·ä½¿ç”¨ï¼ˆæ¨èï¼‰ï¼Œåè€…é€‚åˆæ›´åŠ å®šåˆ¶åŒ–çš„ Lint éœ€æ±‚ã€‚

### ä½¿ç”¨å‘½ä»¤è¡Œï¼ˆCLIï¼‰

#### å®‰è£…ä¾èµ–

```shell
npm install -g @lint-md/cli
```

#### å‘½ä»¤ç¤ºä¾‹

```shell
# æ ¡éªŒå½“å‰ç›®å½•ä¸‹çš„ test.md æ–‡ä»¶
lint-md test.md

# æ ¡éªŒå½“å‰ç›®å½•ä¸‹çš„ test.md æ–‡ä»¶ï¼Œå¹¶ä¿®å¤ä¹‹
lint-md test.md --fix

# æ ¡éªŒ examples ç›®å½•ä¸‹æ‰€æœ‰çš„ Markdown æ–‡ä»¶ï¼Œå¹¶ä¿®å¤ä¹‹
lint-md examples/**/* --fix

# æ ¡éªŒ examples ç›®å½•ä¸‹æ‰€æœ‰çš„ Markdown æ–‡ä»¶ï¼ŒæŒ‡å®š config.json ä¸ºé…ç½®æ–‡ä»¶ï¼ˆé…ç½®æ–‡ä»¶è¯­æ³•è§ä¸‹æ–‡ï¼‰
lint-md examples/**/* --config=config.json

# æ ¡éªŒ examples ç›®å½•ä¸‹æ‰€æœ‰çš„ Markdown æ–‡ä»¶ï¼Œä»…å­˜åœ¨ warning æ—¶ç¨‹åºæ­£å¸¸é€€å‡ºï¼ˆwarning ä¸ä¼šé˜»æ–­ CIï¼‰
lint-md examples/**/* --suppress-warnings

# æ ¡éªŒ examples ç›®å½•ä¸‹æ‰€æœ‰çš„ Markdown æ–‡ä»¶ï¼Œå¹¶å¼€å¯å¤šçº¿ç¨‹æ¨¡å¼ï¼ˆçº¿ç¨‹æ•° === CPU æ ¸å¿ƒæ•°ï¼‰
lint-md examples/**/* --threads

# æ ¡éªŒ examples ç›®å½•ä¸‹æ‰€æœ‰çš„ Markdown æ–‡ä»¶ï¼Œå¹¶å¼€å¯å¤šçº¿ç¨‹æ¨¡å¼ï¼ˆçº¿ç¨‹æ•° === 8ï¼‰
lint-md examples/**/* --threads=8
```

#### é…ç½®æ–‡ä»¶

é»˜è®¤æƒ…å†µä¸‹é‡æ–°ä¼šè¯»å–æ ¹ç›®å½•ä¸‹çš„ `.lintmdrc` JSON æ–‡ä»¶ï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰ï¼Œä¸‹é¢æ˜¯ä¸€ä¸ªæ¡ˆä¾‹ï¼Œè¡¨ç¤ºå°† `no-empty-code` è¿™æ¡è§„åˆ™çš„ç­‰çº§è®¾ç½®ä¸º warningï¼ŒåŒæ—¶ä¸º `no-long-code` è¿™æ¡è§„åˆ™é…ç½®äº†è‡ªå®šä¹‰çš„é€‰é¡¹ï¼š

```json
{
  "rules":{
    "no-empty-code": 1,
    "no-long-code": [2, {
      "length": 100,
      "exclude": ["dot"]
    }]
  }
}
```

å…¶ä¸­ `key` ä¸ºå¯¹åº”è§„åˆ™çš„åç§°ï¼Œ`value` æ˜¯ä¸€ä¸ªæ•°å­—æˆ–è€…å¯¹è±¡ã€‚

å¦‚æœæ˜¯ä¸€ä¸ªæ•°å­—ï¼Œé‚£ä¹ˆè¡¨ç¤ºè§„åˆ™çš„ç­‰çº§ï¼š

- **0**ï¼šå¿½ç•¥ï¼ˆoffï¼‰ï¼Œä¸æ£€æŸ¥è¯¥è§„åˆ™
- **1**ï¼šè­¦å‘Šï¼ˆwarningï¼‰ï¼Œä»…å‡ºç°è­¦å‘Šï¼Œç¨‹åºæ­£å¸¸é€€å‡ºï¼Œä¸ä¼šé˜»æ–­ CI
- **2**ï¼šé”™è¯¯ï¼ˆerrorï¼‰ï¼Œå‡ºç°é”™è¯¯ï¼Œç¨‹åºå¼‚å¸¸é€€å‡ºï¼Œä¼šé˜»æ–­ CI

å¦‚æœæ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œé‚£ä¹ˆæ•°ç»„çš„ç¬¬ä¸€é¡¹ä¸ºæ•°å­—ï¼Œè¡¨ç¤ºè¯¥è§„åˆ™çš„ç­‰çº§ï¼›ç¬¬äºŒä¸ªä¸ºè§„åˆ™çš„é…ç½®å‚æ•°ã€‚

#### API ä¸€è§ˆ

```shell
Options:
  -v, --version                  output the version numberï¼ˆæŸ¥çœ‹å½“å‰ç‰ˆæœ¬ï¼‰
  -c, --config [configure-file]  use the configure file, default .lintmdrcï¼ˆä½¿ç”¨é…ç½®æ–‡ä»¶ï¼Œé»˜è®¤ä¸º .lintmdrcï¼‰
  -f, --fix                      fix the errors automaticallyï¼ˆå¼€å¯ä¿®å¤æ¨¡å¼ï¼‰
  -d, --dev                      open dev modeï¼ˆå¼€å¯å¼€å‘è€…æ¨¡å¼ï¼‰
  -t, --threads [thread-count]   The number of threads. The default is based on the number of available CPUs.ï¼ˆæ‰§è¡Œ Lint / Fix çš„çº¿ç¨‹æ•°ï¼Œé»˜è®¤ä¸º CPU æ ¸å¿ƒæ•°ï¼‰
  -s, --suppress-warnings        suppress all warnings, that means warnings will not block CIï¼ˆæŠ‘åˆ¶æ‰€æœ‰è­¦å‘Šï¼Œè¿™æ„å‘³ç€è­¦å‘Šä¸ä¼šé˜»æ­¢ CIï¼‰
  -h, --help                     display help for commandï¼ˆæŸ¥çœ‹å¸®åŠ©ï¼‰
```

### ä½¿ç”¨ Node.js API

TODO

## è§„åˆ™æ¦‚è¿°

> æ£€æŸ¥è§„åˆ™æ¥æºäº [chinese-document-style-guide](https://github.com/ruanyf/document-style-guide).


| è§„åˆ™                                | è¯¦ç»†æè¿°                      | è§£å†³åŠæ³•                | å¯è‡ªåŠ¨ä¿®å¤     |
|------------------------------------|------------------------------|------------------------|------------|
| space-around-alphabet              | ä¸­æ–‡ä¸è‹±æ–‡ä¹‹é—´éœ€è¦å¢åŠ ç©ºæ ¼        | å¯¹åº”æç¤ºçš„ä½ç½®å¢åŠ ç©ºæ ¼   | âœ…    |
| space-around-number                | ä¸­æ–‡ä¸æ•°å­—ä¹‹é—´éœ€è¦å¢åŠ ç©ºæ ¼        | å¯¹åº”æç¤ºçš„ä½ç½®å¢åŠ ç©ºæ ¼   | âœ…    | 
| no-empty-code-lang                 | ä»£ç è¯­è¨€ä¸èƒ½ä¸ºç©º                | åœ¨ä»£ç å—è¯­æ³•ä¸Šå¢åŠ è¯­è¨€     | âœ…    |
| no-empty-url                       | é“¾æ¥å’Œå›¾ç‰‡åœ°å€ä¸èƒ½ä¸ºç©º            | å¡«å†™å®Œæ•´çš„ urlï¼Œæˆ–è€…ä¸ä½¿ç”¨é“¾æ¥å’Œå›¾ç‰‡è¯­æ³• | âœ…    | 
| no-empty-list                      | list å†…å®¹ä¸èƒ½ä¸ºç©º               | åˆ é™¤ç©ºçš„ list æˆ–è€…è¡¥å……å†…å®¹   | âœ…    | 
| no-empty-code                      | ä»£ç å—å†…å®¹ä¸èƒ½ä¸ºç©º               | åˆ é™¤ç©ºçš„ä»£ç å—ï¼Œæˆ–è€…å¡«å……ä»£ç å†…å®¹   | âœ…    | 
| no-empty-inline-code                | è¡Œå†…ä»£ç å—å†…å®¹ä¸èƒ½ä¸ºç©º            | åˆ é™¤ç©ºçš„è¡Œå†…ä»£ç å—ï¼Œæˆ–è€…å¡«å……ä»£ç å†…å®¹     | âœ…    | 
| no-empty-blockquote                | å¼•ç”¨å—å†…å®¹ä¸èƒ½ä¸ºç©º               | åˆ é™¤ç©ºçš„å¼•ç”¨å—ï¼Œæˆ–è€…å¡«å……å†…å®¹ | âœ…    |
| no-special-characters              | æ–‡æœ¬ä¸­ä¸èƒ½æœ‰ç‰¹æ®Šå­—ç¬¦             | å¯èƒ½æ˜¯å¤åˆ¶å‡ºæ¥çš„ç‰¹æ®Šå­—ç¬¦ï¼Œåˆ é™¤ç‰¹æ®Šå­—ç¬¦å³å¯  | âœ…    |
| use-standard-ellipsis              | ä½¿ç”¨æ ‡å‡†è§„èŒƒçš„çœç•¥å·             | ä½¿ç”¨æ ‡å‡†è§„èŒƒçš„çœç•¥å·â€˜â€¦â€¦â€™ / â€˜...â€™ | âœ…    | 
| no-fullwidth-number                | ä¸èƒ½ç”¨å…¨è§’æ•°å­—                  | æ³¨æ„è¾“å…¥æ³•åˆ‡æ¢ä¸ºåŠè§’è¾“å…¥           | âœ…    |
| no-space-in-link                   | é“¾æ¥å‰åä¸èƒ½æœ‰ç©ºæ ¼            | åˆ é™¤é“¾æ¥å†…å®¹çš„å‰åç©ºæ ¼     | âœ…    |
| no-multiple-space-blockquote       | å¼•ç”¨å—å¤´éƒ¨å’Œå†…å®¹é—´åªèƒ½æœ‰ä¸€ä¸ªç©ºæ ¼    | åˆ é™¤å¤šä½™çš„ç©ºæ ¼ | âœ…    |
| correct-title-trailing-punctuation | æ ‡é¢˜æœ«å°¾åªèƒ½ä½¿ç”¨åˆé€‚çš„æ ‡ç‚¹ç¬¦å·ï¼ˆå…è®¸é—®å·ã€å¹å·ã€çœç•¥å·ï¼‰ | åˆ é™¤æ ‡é¢˜æœ€åä¸åˆæ³•çš„æ ‡ç‚¹ç¬¦å·   | âœ…    |
| no-space-in-inline-code            | è¡Œå†…ä»£ç å†…å®¹å‰åä¸èƒ½æœ‰ç©ºæ ¼        | åˆ é™¤è¡Œå†…ä»£ç ä¸­çš„å‰åç©ºæ ¼          | âœ…    |
| no-long-code                       | ä»£ç å—ä¸èƒ½æœ‰è¿‡é•¿çš„ä»£ç ï¼ˆä»£ç é•¿åº¦å¯é…ç½®ï¼Œè§ä¸‹æ–‡ï¼‰  | å¯¹å±•ç¤ºä»£ç åšæ ¼å¼ä¸Šçš„ä¿®æ”¹        | x    |

**å¯é…ç½®çš„è§„åˆ™**

`no-long-code` æ¥å—ä¸¤ä¸ªå¯é…ç½®å‚æ•°ï¼š

+ `length`: æ¯è¡Œä»£ç æ¥å—çš„æœ€å¤§é•¿åº¦ï¼Œæ•°å­—ï¼Œé»˜è®¤å€¼ä¸º `100`
+ `exclude`: å¯ä»¥é…ç½®éƒ¨åˆ†ä»£ç ç±»å‹ä¸åšé•¿åº¦æ£€æŸ¥ï¼Œå­—ç¬¦ä¸²æ•°ç»„ï¼Œé»˜è®¤å€¼ä¸º `[]`

### è´¡çŒ®ä»£ç 

> ç›®å‰ä»…ä»…æ£€æŸ¥äº†æ¯”è¾ƒé€šç”¨çš„ç±»å‹ï¼Œ**æ¬¢è¿ Pull Request**ï¼Œåœ¨ `rules` ä¸­å¢åŠ è‡ªå·±çš„è§„åˆ™ï¼Œæ³¨æ„ï¼š

- è§„åˆ™ä¸»è¦é’ˆå¯¹äºä¸­æ–‡ Markdown çš„ç¼–å†™è§„èŒƒ
- è§„åˆ™åç§°å¯¹åº”å’Œæ’ä»¶æ–‡ä»¶åä¿æŒä¸€è‡´
- å…ˆæ [issue](https://github.com/lint-md/lint-md/issues) è¿›è¡Œè®¨è®º
- å¼€å‘ rule æ—¶å¯ä»¥ä½¿ç”¨ [AST å·¥å…·](https://astexplorer.net/) æ¥è¾…åŠ©å¼€å‘


## License

MIT@[hustcc](https://github.com/hustcc).
